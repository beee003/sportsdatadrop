import{c as u,m as N,b as H,g as i,a as d,i as l,d as g,e as L,s as y,r as P,f as F,t as s,h as I,A as j,F as R}from"./entry-client-c12fab86.js";import{A as V,s as A}from"./supabase-5ac2a229.js";import{I as z}from"./Icon-05c57c7a.js";const D=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],q=e=>u(z,N(e,{name:"Loader2",iconNode:D})),G=q;var J=s('<div class="rounded-xl glass-card p-4 hover:bg-white/10 transition-all duration-300 relative cursor-pointer overflow-hidden group"><div class="relative mb-3 rounded-lg overflow-hidden bg-black/20"><!$><!/><div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div></div><h3 class="text-lg font-semibold mb-1 text-text"></h3><p class="text-sm opacity-70 text-accent font-medium">$<!$><!/></p><!$><!/>'),K=s('<img class="w-full aspect-video object-cover">'),O=s('<video class="w-full aspect-video object-cover"muted preload=metadata>'),Q=s('<a target=_blank rel="noopener noreferrer"class="absolute inset-0 flex items-center justify-center text-accent bg-black/80 backdrop-blur-sm rounded-lg font-semibold text-lg neon-glow animate-in fade-in duration-200">Buy Dataset');const T=e=>{const[c,n]=H(!1);return(()=>{var o=i(J),_=o.firstChild,S=_.firstChild,[p,b]=d(S.nextSibling);p.nextSibling;var x=_.nextSibling,m=x.nextSibling,f=m.firstChild,k=f.nextSibling,[w,h]=d(k.nextSibling),C=m.nextSibling,[E,U]=d(C.nextSibling);return o.addEventListener("mouseleave",()=>n(!1)),o.addEventListener("mouseenter",()=>n(!0)),l(_,(()=>{var v=g(()=>!!e.thumbnail);return()=>v()?(()=>{var r=i(K);return L(t=>{var a=e.thumbnail,$=e.title;return a!==t.e&&y(r,"src",t.e=a),$!==t.t&&y(r,"alt",t.t=$),t},{e:void 0,t:void 0}),r})():(()=>{var r=i(O);return L(()=>y(r,"src",e.videoUrl)),r})()})(),p,b),l(x,()=>e.title),l(m,()=>e.price,w,h),l(o,(()=>{var v=g(()=>!!c());return()=>v()&&(()=>{var r=i(Q);return r.$$click=t=>{t.stopPropagation()},L(()=>y(r,"href",e.checkoutUrl)),P(),r})()})(),E,U),o})()};F(["click"]);const W=(e,c)=>`https://buy.stripe.com/your-payment-link?client_reference_id=${e}`;var X=s('<div class="min-h-screen py-12 px-4"><div class="max-w-7xl mx-auto"><div class="flex items-center justify-between mb-8"></div><h1 class="text-4xl md:text-5xl font-bold mb-4 text-center"><span class=neon-green>Marketplace</span></h1><p class="text-center opacity-70 mb-12 text-lg">Browse and purchase sports video datasets</p><!$><!/><!$><!/><!$><!/><!$><!/>'),Y=s('<div class="flex justify-center items-center py-20">'),Z=s('<div class="text-center py-20"><p class="text-red-400 mb-4">Error loading videos</p><p class="text-sm opacity-70">'),ee=s('<div class="text-center py-20"><p class="text-xl opacity-70 mb-4">No videos available yet</p><!$><!/>'),te=s('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">');async function re(){const{data:e,error:c}=await A.from("videos").select("*").order("created_at",{ascending:!1});return c?(console.error("Error fetching videos:",c),[]):(e||[]).map(n=>({...n,public_url:n.public_url||A.storage.from("videos").getPublicUrl(n.file_url).data.publicUrl}))}function ie(){const[e]=I(re);return(()=>{var c=i(X),n=c.firstChild,o=n.firstChild,_=o.nextSibling,S=_.nextSibling,p=S.nextSibling,[b,x]=d(p.nextSibling),m=b.nextSibling,[f,k]=d(m.nextSibling),w=f.nextSibling,[h,C]=d(w.nextSibling),E=h.nextSibling,[U,v]=d(E.nextSibling);return l(o,u(j,{href:"/",class:"inline-flex items-center gap-2 text-accent hover:text-green-300 transition-colors",get children(){return[u(V,{class:"w-5 h-5"}),"Back to Home"]}})),l(n,(()=>{var r=g(()=>!!e.loading);return()=>r()&&(()=>{var t=i(Y);return l(t,u(G,{class:"w-8 h-8 text-accent animate-spin"})),t})()})(),b,x),l(n,(()=>{var r=g(()=>!!e.error);return()=>r()&&(()=>{var t=i(Z),a=t.firstChild,$=a.nextSibling;return l($,()=>e.error.message),t})()})(),f,k),l(n,(()=>{var r=g(()=>!!(e()&&e().length===0));return()=>r()&&(()=>{var t=i(ee),a=t.firstChild,$=a.nextSibling,[B,M]=d($.nextSibling);return l(t,u(j,{href:"/upload",class:"text-accent hover:text-green-300 transition-colors",children:"Be the first to upload!"}),B,M),t})()})(),h,C),l(n,(()=>{var r=g(()=>!!(e()&&e().length>0));return()=>r()&&(()=>{var t=i(te);return l(t,u(R,{get each(){return e()},children:a=>u(T,{get videoUrl(){return a.public_url||""},get title(){return a.title},get price(){return a.price},get checkoutUrl(){return W(a.id,a.price)}})})),t})()})(),U,v),c})()}export{ie as default};
